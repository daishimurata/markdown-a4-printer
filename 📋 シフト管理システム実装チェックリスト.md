# 📋 シフト管理システム実装チェックリスト

## ✅ 完了した実装

### 1. フォルダ構造整理
- [x] `StaffShifts/` フォルダ作成
- [x] `.full-calendar/` フォルダ作成
- [x] サンプルイベントファイル作成

### 2. イベントファイル形式
- [x] YAML front-matter 形式の定義
- [x] サンプルファイル作成（小西瞳、河相由梨奈）
- [x] シフトコードとstaffIdの設定

### 3. Full Calendar テンプレート
- [x] `Staff/_calendar_template.md` 作成
- [x] フィルター機能とビュー設定
- [x] スタッフファイルへのカレンダー埋め込み

### 4. スタッフファイル更新
- [x] 小西瞳.md にカレンダー機能追加
- [x] 河相由梨奈.md にカレンダー機能追加
- [x] staffId の追加

### 5. ドキュメント作成
- [x] Database Folder 設定ガイド
- [x] スタッフ向けマニュアル作成
- [x] DataviewJS クエリサンプル作成

## 🔄 次に必要な作業

### 1. プラグイン設定
- [ ] **Database Folder プラグイン** をインストール・有効化
- [ ] **Full Calendar プラグイン** をインストール・有効化
- [ ] StaffShifts フォルダをデータベースに変換
- [ ] Column設定の実施

### 2. 残りのスタッフファイル更新
- [ ] 水谷麗香.md の更新
- [ ] 中井理恵.md の更新
- [ ] 水戸紀昭.md の更新
- [ ] 松本愛美.md の更新
- [ ] 村田太志.md の更新
- [ ] 木村菜々美.md の更新
- [ ] 吉澤冬美.md の更新

### 3. 既存シフトデータの移行
- [ ] 各スタッフファイルの `shift:` 配列からイベントファイルを生成
- [ ] staffId の一意性確保
- [ ] データ整合性の確認

### 4. 日報テンプレート更新
- [ ] 既存の日報テンプレートを新しいクエリに対応
- [ ] DataviewJS 関数の実装・テスト
- [ ] バックアップの確保

### 5. テスト・検証
- [ ] カレンダー表示の動作確認
- [ ] イベント作成・編集・削除のテスト
- [ ] フィルター機能の動作確認
- [ ] 日報テンプレートとの連携確認

## 🎯 手動設定が必要な項目

### Database Folder 設定手順
1. `StaffShifts` フォルダを開く
2. Ctrl+P → `Database: Convert current folder to DB`
3. Column設定：
   - `date` (Date, yyyy-MM-dd)
   - `shift_code` (Select, A,B,C,D)
   - `time` (Text)
   - `staffId` (Text)
   - `title` (Text)
4. View → Calendar 設定

### 必要なプラグイン
- **Database Folder** (v4.0以降)
- **Full Calendar**
- **Dataview** (既存)

## 💡 推奨作業順序

1. プラグインのインストール・設定
2. Database Folder でStaffShiftsを設定
3. 残りスタッフファイルの一括更新
4. 既存データの移行スクリプト実行
5. 動作テスト・検証
6. スタッフへの利用方法説明

## 📝 メモ
- 既存のシフト配列はバックアップとして残している
- 新システムとの並行運用でデータ損失リスクを軽減
- プラグイン導入後すぐに利用可能な状態 